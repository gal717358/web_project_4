!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.data,r=e.cardSelector,o=e.handleCardClick,i=e.handleDeleteCard,a=e.userId,c=e.handleLikeIcon;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n.name,this._link=n.link,this._likes=n.likes,this._id=n._id,this._cardSelector=r,this._handleCardClick=o,this._handleDeleteCard=i,this._handleLikeIcon=c,this._userId=a,this._ownerId=n.owner._id}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector("#element-template").content.querySelector(".element").cloneNode(!0)}},{key:"getId",value:function(){return this._id}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"likeCard",value:function(e){var t=this;e&&(this._likes=e,this._likes.some((function(e){return e._id===t._userId}))?this._element.querySelector(".element__like-btn").classList.add("element__like-btn_active"):this._element.querySelector(".element__like-btn").classList.remove("element__like-btn_active"),this._element.querySelector(".element__likes-count").textContent=this._likes.length)}},{key:"unLikeCard",value:function(){this._element.querySelector(".element__like-btn").classList.remove("element__like-btn_active")}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"generateCard",value:function(){this._element=this._getTemplate(),this._setEventListeners();var e=this._element.querySelector(".element__image");return e.src=this._link,e.alt="Photo of ".concat(this._name),this._element.querySelector(".element__title").textContent=this._name,this._ownerId!==this._userId&&(this._element.querySelector(".element__delete").style.display="none"),this.likeCard(this._likes),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__delete").addEventListener("click",(function(){return e._handleDeleteCard(e._id)})),this._element.querySelector(".element__image").addEventListener("click",this._handleCardClick),this._element.querySelector(".element__like-btn").addEventListener("click",(function(){return e._handleLikeIcon()}))}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_showError",(function(e,t){var n=o.settings,r=n.inputErrorClass,i=n.errorClass,a=o.formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(r),a.textContent=t,a.classList.add(i)})),r(this,"_hideError",(function(e){var t=o.settings,n=t.inputErrorClass,r=t.errorClass,i=o.formElement.querySelector("#".concat(e.id,"-error"));i.textContent="",i.classList.remove(r),e.classList.remove(n)})),r(this,"_checkValidity",(function(e){return e.validity.valid?o._hideError(e):o._showError(e,e.validationMessage),o.formElement})),r(this,"_setEventListeners",(function(){var e=o.settings.inputSelector;return o.inputs=Array.from(o.formElement.querySelectorAll(e)),o.inputs.forEach((function(e){e.addEventListener("input",(function(){o._checkValidity(e),o._toggleButtonState()}))})),o.formElement})),r(this,"_checkIfFormValid",(function(){return o.inputs.every((function(e){return e.validity.valid}))})),r(this,"_toggleButtonState",(function(){var e=o.settings,t=e.inactiveButtonClass,n=e.submitButtonSelector,r=o.formElement.querySelector(n);o._checkIfFormValid()?(r.disabled=!1,r.classList.remove(t)):(r.disabled=!0,r.classList.add(t))})),this.settings=t,this.formElement=n}var t,o;return t=e,(o=[{key:"resetValidation",value:function(){var e=this;this.inputs.forEach((function(t){e._hideError(t)})),this._toggleButtonState()}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&n(t.prototype,o),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popupElement=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.remove("modal_closed"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.add("modal_closed"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".modal__close-btn").addEventListener("click",(function(){return e.close})),this._popupElement.addEventListener("click",(function(t){t.target.classList.contains("modal")&&e.close()}))}}])&&i(t.prototype,n),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},d(e,t,n||e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)});function o(){var e,t;l(this,o);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return y(f(t=r.call.apply(r,[this].concat(i))),"open",(function(n){d((e=f(t),p(o.prototype)),"open",e).call(e);var r=n.target;t._popupElement.querySelector(".modal__img").src=r.src,t._popupElement.querySelector(".modal__img").alt=r.alt,t._popupElement.querySelector(".modal__title").textContent=r.alt})),t}return o}(a);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},g(e,t,n||e)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitHandler=t,n._form=n._popupElement.querySelector(".form"),n}return t=a,(n=[{key:"getInputValues",value:function(){var e=v(this._form.querySelectorAll(".form__text-input")),t={};return e.forEach((function(e){t[e.name]=e.value})),t}},{key:"setInputValues",value:function(e){v(this._form.querySelectorAll(".form__text-input")).forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;g(S(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler()}))}},{key:"close",value:function(){g(S(a.prototype),"close",this).call(this),this._form.reset()}}])&&b(t.prototype,n),a}(a);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n),this.renderer=o}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"prependItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e?e.forEach((function(e){t._renderer(e)})):this._items.forEach((function(e){t._renderer(e)}))}}])&&C(t.prototype,n),e}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._job=document.querySelector(n),this._image=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._name.textContent=t,this._job.textContent=n,this._image.src=r}}])&&j(t.prototype,n),e}();function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)}))},P=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=n,this.headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return q("".concat(this.baseUrl,"/cards"),{method:"GET",headers:this.headers})}},{key:"getUserInfo",value:function(){return q("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers})}},{key:"createCard",value:function(e){return q("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify(e)})}},{key:"editProfile",value:function(e){return q("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"PATCH",body:JSON.stringify({name:e.name,about:e.job})})}},{key:"deleteCard",value:function(e){return q("".concat(this.baseUrl,"/cards/").concat(e),{headers:this.headers,method:"DELETE"})}},{key:"likeCard",value:function(e){return q("".concat(this.baseUrl,"/cards/likes/").concat(e),{headers:this.headers,method:"PUT"})}},{key:"deleteLike",value:function(e){return q("".concat(this.baseUrl,"/cards/likes/").concat(e),{headers:this.headers,method:"DELETE"})}},{key:"avatarImage",value:function(e){return q("".concat(this.baseUrl,"/users/me/avatar"),{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e})})}}])&&I(t.prototype,n),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"c1447c07-9b09-4ed7-9490-5ede153a83d9","Content-Type":"application/json"}});function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},U(e,t,n||e)}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function V(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function a(){return x(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"open",value:function(e){U(B(a.prototype),"open",this).call(this),this._popupElement.addEventListener("click",e)}},{key:"setEventListeners",value:function(){this._popupElement.addEventListener("click",(function(e){e.preventDefault()})),U(B(a.prototype),"setEventListeners",this).call(this)}}])&&R(t.prototype,n),a}(a);function N(e,t,n){n.textContent=t,n.setAttribute=e}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M,J={formSelector:".form",inputSelector:".form__text-input",submitButtonSelector:".form__submit-btn",inactiveButtonClass:"form__submit-btn_disabled",inputErrorClass:"form__text-input_theme_error",errorClass:"form__input-error"};Promise.all([P.getInitialCards(),P.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];M=i._id,fe.renderItems(o),ue.setUserInfo({name:i.name,about:i.about,avatar:i.avatar})}));var F=document.querySelector(".modal_type_profile"),G=document.querySelector(".modal_type_profile"),Y=document.querySelector(".profile__edit-btn"),$=F.querySelector(".modal__close-btn"),z=document.querySelector(".modal__change-picture"),K=document.querySelector(".profile__change-avatar"),Q=document.querySelector(".form__change-picture"),W=document.querySelector(".modal_type_add-element"),X=W.querySelector(".modal__close-btn"),Z=document.querySelector(".profile__add-btn"),ee=W.querySelector(".form__submit-btn"),te=G.querySelector(".form__submit-btn"),ne=document.querySelector("#element-template").content.querySelector(".element"),re=document.querySelector(".elements"),oe=(ne.cloneNode(!0),document.querySelector(".modal__close-popup")),ie=new o(J,G),ae=new o(J,W);ie.enableValidation(),ae.enableValidation();var ce=new h(".modal_type_pop-up");ce.setEventListeners();var le=new D(".modal_type_delete-card");le.setEventListeners();var ue=new L(".profile__title",".profile__job",".profile__avatar");ue.setUserInfo({name:"",about:"",avatar:""});var se=function(e){var n=new t({data:e,cardSelector:ne,handleCardClick:function(e){ce.open(e)},handleDeleteCard:function(){le.open((function(){var e=document.querySelector(".form__submit-delete");N(!0,"deleting...",e),P.deleteCard(n.getId()).then((function(e){return console.log("Card has been deleted.")})).catch((function(e){return console.log("".concat(e))})).then((function(e){n.removeCard(),le.close()})).finally((function(t){N(!1,"Yes",e)}))}))},handleLikeIcon:function(){n.isLiked()?P.deleteLike(n.getId()).then((function(e){n.likeCard(e.likes).catch((function(e){return console.log("Error.....: ".concat(e))}))})):P.likeCard(n.getId()).then((function(e){n.likeCard(e.likes).catch((function(e){return console.log("Error.....: ".concat(e))}))}))},userId:M});return n.generateCard()},fe=new O({items:[{name:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderer:function(e){fe.addItem(se(e))}},".elements"),de=new w(".modal_type_change-picture",(function(){N(!0,"saving...",Q),P.avatarImage(de.getInputValues().link).then((function(e){return ue.setUserInfo(e)})).catch((function(e){return console.log("Error.....: ".concat(e))})).then((function(e){de.close()})).finally((function(e){N(!1,"Change",Q)}))}));de.setEventListeners();var pe=new w(".modal_type_add-element",(function(){var e=pe.getInputValues();N(!0,"creating...",ee),P.createCard(e).then((function(e){var t=se(e);re.prepend(t)})).catch((function(e){return console.log("Error.....: ".concat(e))})).then((function(e){pe.close(e)})).finally((function(e){N(!1,"Create",ee)}))}));pe.setEventListeners();var ye=new w(".modal_type_profile",(function(){N(!0,"saving...",te),P.editProfile(ye.getInputValues()).then((function(e){ue.setUserInfo(e)})).catch((function(e){return console.log("Error.....: ".concat(e))})).then((function(e){ye.close()})).finally((function(e){N(!1,"save",te)}))}));ye.setEventListeners(),Y.addEventListener("click",(function(){ye.setInputValues(ue.getUserInfo()),ie.resetValidation(),ye.open()})),K.addEventListener("click",(function(){de.open()})),Z.addEventListener("click",(function(){ae.resetValidation(),pe.open()})),$.addEventListener("click",(function(){return ye.close()})),oe.addEventListener("click",(function(){return ce.close()})),X.addEventListener("click",(function(){return pe.close()})),z.addEventListener("click",(function(){return de.close()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQUssU0FBQ0MsR0FDTGdDLEdBQWVDLFlBQVlqQyxNQUU1QitELE9BQU0sU0FBQ0MsR0FBRCxPQUFTSCxRQUFRQyxJQUFSLHNCQUEyQkUsT0FDMUNqRSxNQUFLLFNBQUNDLEdBQ0wyRSxHQUFVdkgsV0FFWDhHLFNBQVEsU0FBQ2xFLEdBQ1JtQixHQUFjLEVBQU8sT0FBUTBCLFVBR25DOEIsR0FBVXRCLG9CQUVWakIsRUFBZWpILGlCQUFpQixTQUFTLFdBQ3ZDd0osR0FBVUMsZUFBZTVDLEdBQWVMLGVBQ3hDc0IsR0FBa0I0QixrQkFDbEJGLEdBQVVqQixVQUdabkIsRUFBY3BILGlCQUFpQixTQUFTLFdBQ3RDb0osR0FBWWIsVUFJZGYsRUFBV3hILGlCQUFpQixTQUFTLFdBQ25DK0gsR0FBcUIyQixrQkFDckJKLEdBQVNmLFVBR1hyQixFQUFZbEgsaUJBQWlCLFNBQVMsa0JBQU13SixHQUFVdkgsV0FDdEQ0RixHQUFjN0gsaUJBQWlCLFNBQVMsa0JBQU1pSSxHQUFXaEcsV0FDekRzRixFQUFldkgsaUJBQWlCLFNBQVMsa0JBQU1zSixHQUFTckgsV0FDeERrRixFQUFlbkgsaUJBQWlCLFNBQVMsa0JBQU1vSixHQUFZbkgsVyIsInNvdXJjZXMiOlsid2VicGFjazovL3BhY2thZ2UuanNvbi8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcGFja2FnZS5qc29uLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wYWNrYWdlLmpzb24vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wYWNrYWdlLmpzb24vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wYWNrYWdlLmpzb24vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3BhY2thZ2UuanNvbi8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcGFja2FnZS5qc29uLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcGFja2FnZS5qc29uLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3BhY2thZ2UuanNvbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9wYWNrYWdlLmpzb24vLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcGFja2FnZS5qc29uLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3BhY2thZ2UuanNvbi8uL3NyYy9jb21wb25lbnRzL2luaXRpYWxFbGVtZW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNhcmQsXHJcbiAgICB1c2VySWQsXHJcbiAgICBoYW5kbGVMaWtlSWNvbixcclxuICB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uID0gaGFuZGxlTGlrZUljb247XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZUVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIiNlbGVtZW50LXRlbXBsYXRlXCIpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiB0ZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgfVxyXG4gIGdldElkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gIH1cclxuICByZW1vdmVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQobmV3TGlrZXMpIHtcclxuICAgIGlmIChuZXdMaWtlcykge1xyXG4gICAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xyXG4gICAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgocGVyc29uKSA9PiBwZXJzb24uX2lkID09PSB0aGlzLl91c2VySWQpKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idG5cIilcclxuICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZS1idG5fYWN0aXZlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtYnRuXCIpXHJcbiAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VzLWNvdW50XCIpLnRleHRDb250ZW50ID1cclxuICAgICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1bkxpa2VDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ0blwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgocGVyc29uKSA9PiBwZXJzb24uX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIGNvbnN0IGVsZW1lbnRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIGVsZW1lbnRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgZWxlbWVudEltYWdlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxpa2VDYXJkKHRoaXMuX2xpa2VzKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9pZCkpO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idG5cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbigpKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0Vycm9yID0gKGlucHV0LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH0gPSB0aGlzLnNldHRpbmdzO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGVycm9yQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIF9oaWRlRXJyb3IgPSAoaW5wdXQpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH0gPSB0aGlzLnNldHRpbmdzO1xyXG5cclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JDbGFzcyk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgX2NoZWNrVmFsaWRpdHkgPSAoaW5wdXQpID0+IHtcclxuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0LCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5mb3JtRWxlbWVudDtcclxuICB9O1xyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGlucHV0U2VsZWN0b3IgfSA9IHRoaXMuc2V0dGluZ3M7XHJcbiAgICB0aGlzLmlucHV0cyA9IEFycmF5LmZyb20odGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGlucHV0U2VsZWN0b3IpKTtcclxuXHJcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrVmFsaWRpdHkoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JtRWxlbWVudDtcclxuICB9O1xyXG5cclxuICBfY2hlY2tJZkZvcm1WYWxpZCA9ICgpID0+IHRoaXMuaW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yIH0gPSB0aGlzLnNldHRpbmdzO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gICAgaWYgKHRoaXMuX2NoZWNrSWZGb3JtVmFsaWQoKSkge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5cclxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfY2xvc2VkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9jbG9zZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgb3BlbiA9IChldnQpID0+IHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IGV2dC50YXJnZXQ7XHJcblxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltZ1wiKS5zcmMgPSBjYXJkSW1hZ2Uuc3JjO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltZ1wiKS5hbHQ9IGNhcmRJbWFnZS5hbHQ7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fdGl0bGVcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICBjYXJkSW1hZ2UuYWx0O1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRIYW5kbGVyKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgfVxyXG5cclxuICBnZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9fdGV4dC1pbnB1dFwiKV07XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG5cclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZXModmFsdWVzKSB7XHJcbiAgICBjb25zdCBpbnB1dHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX3RleHQtaW5wdXRcIildO1xyXG5cclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlc1tpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgcHJlcGVuZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhkYXRhKSB7XHJcbiAgICBpZiAoZGF0YSkge1xyXG4gICAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iLCBwcm9maWxlSW1hZ2UpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lKTtcclxuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUpvYik7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUltYWdlKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgbmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XHJcbiAgICBjb25zdCBqb2IgPSB0aGlzLl9qb2IudGV4dENvbnRlbnQ7XHJcbiAgICByZXR1cm4geyBuYW1lLCBqb2IgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHVzZXJJbmZvKSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSA9IHVzZXJJbmZvO1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgY3VzdG9tRmV0Y2ggPSAodXJsLCBoZWFkZXJzKSA9PlxyXG4gIGZldGNoKHVybCwgaGVhZGVycykudGhlbigocmVzKSA9PlxyXG4gICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KVxyXG4gICk7XHJcblxyXG5jbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KTtcclxuICB9XHJcbiAgZWRpdFByb2ZpbGUocHJvZmlsZUluZm8pIHtcclxuICAgIC8vIGNvbnN0IHsgbmFtZSwgam9iIH0gPSBwcm9maWxlSW5mbztcclxuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogcHJvZmlsZUluZm8ubmFtZSxcclxuICAgICAgICBhYm91dDogcHJvZmlsZUluZm8uam9iLFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGF2YXRhckltYWdlKGF2YXRhclNyYykge1xyXG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJTcmMsXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJjMTQ0N2MwNy05YjA5LTRlZDctOTQ5MC01ZWRlMTUzYTgzZDlcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgb3BlbihmdW5jKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmMpO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nLCB0ZXh0LCBidXR0b24pIHtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIGJ1dHRvbi5zZXRBdHRyaWJ1dGUgPSAoXCJkaXNhYmxlZFwiLCBpc0xvYWRpbmcpO1xyXG59XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IGluaXRpYWxFbGVtZW50cyBmcm9tIFwiLi4vY29tcG9uZW50cy9pbml0aWFsRWxlbWVudHMuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoU3VibWl0IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qc1wiO1xuaW1wb3J0IHsgcmVuZGVyTG9hZGluZyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuXG5jb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX3RleHQtaW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdC1idG5cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXQtYnRuX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX190ZXh0LWlucHV0X3RoZW1lX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JcIixcbn07XG5cbmxldCB1c2VySWQ7XG5cblByb21pc2UuYWxsKFthcGkuZ2V0SW5pdGlhbENhcmRzKCksIGFwaS5nZXRVc2VySW5mbygpXSkudGhlbihcbiAgKFtjYXJkRGF0YSwgdXNlckRhdGFdKSA9PiB7XG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmREYXRhKTtcbiAgICB1c2VySW5mb0hvbGRlci5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgYWJvdXQ6IHVzZXJEYXRhLmFib3V0LFxuICAgICAgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIsXG4gICAgfSk7XG4gIH1cbik7XG5cbi8vZWRpdCBwcm9maWxlXG5jb25zdCBwcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfcHJvZmlsZVwiKTtcbmNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX3Byb2ZpbGVcIik7XG5jb25zdCBwcm9maWxlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XG5jb25zdCBjbG9zZUJ1dHRvbiA9IHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG5jb25zdCBhdmF0YXJDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NoYW5nZS1waWN0dXJlXCIpO1xuY29uc3QgdXNlckF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fY2hhbmdlLWF2YXRhclwiKTtcbmNvbnN0IHN1Ym1pdEF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fY2hhbmdlLXBpY3R1cmVcIik7XG5cbi8vbW9kYWxzXG5jb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9hZGQtZWxlbWVudFwiKTtcbmNvbnN0IGNsb3NlQWRkQnV0dG9uID0gYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuY29uc3QgYWRkQ2FyZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcbmNvbnN0IGFkZENhcmRTdWJtaXRCdG4gPSBhZGRDYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdC1idG5cIik7XG5jb25zdCBlZGl0U3VibWl0QnRuID0gZWRpdEZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXQtYnRuXCIpO1xuXG4vL2NyZWF0ZSBjYXJkc1xuY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnRcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIjZWxlbWVudC10ZW1wbGF0ZVwiKVxuICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIik7XG5jb25zdCBlbGVtZW50c0Jsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcbmNvbnN0IGVsZW1lbnQgPSB0ZW1wbGF0ZUVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuXG4vL3BvcCB1cFxuY29uc3QgY2xvc2VQb3B1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLXBvcHVwXCIpO1xuXG4vLyB2YWxpZGF0aW9uXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBlZGl0Rm9ybSk7XG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBhZGRDYXJkRm9ybSk7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgaW1hZ2VNb2RhbCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5tb2RhbF90eXBlX3BvcC11cFwiKTtcbmltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY29uZmlybU1vZGFsID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5tb2RhbF90eXBlX2RlbGV0ZS1jYXJkXCIpO1xuY29uZmlybU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIFVzZXJJbmZvXG5jb25zdCB1c2VySW5mb0hvbGRlciA9IG5ldyBVc2VySW5mbyhcbiAgXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgXCIucHJvZmlsZV9fam9iXCIsXG4gIFwiLnByb2ZpbGVfX2F2YXRhclwiXG4pO1xudXNlckluZm9Ib2xkZXIuc2V0VXNlckluZm8oe1xuICBuYW1lOiBcIlwiLFxuICBhYm91dDogXCJcIixcbiAgYXZhdGFyOiBcIlwiLFxufSk7XG5cbi8vIGNhcmQgcmVuZGVyXG5jb25zdCBjYXJkUmVuZGVyZXIgPSAobmV3Q2FyZCkgPT4ge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKHtcbiAgICBkYXRhOiBuZXdDYXJkLFxuICAgIGNhcmRTZWxlY3RvcjogdGVtcGxhdGVFbGVtZW50LFxuICAgIGhhbmRsZUNhcmRDbGljazogKGV2dCkgPT4ge1xuICAgICAgaW1hZ2VNb2RhbC5vcGVuKGV2dCk7XG4gICAgfSxcbiAgICBoYW5kbGVEZWxldGVDYXJkOiAoKSA9PiB7XG4gICAgICBjb25maXJtTW9kYWwub3BlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlbGV0ZVN1Ym1pdEhhbmRsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIFwiLmZvcm1fX3N1Ym1pdC1kZWxldGVcIlxuICAgICAgICApO1xuICAgICAgICByZW5kZXJMb2FkaW5nKCB0cnVlLCBcImRlbGV0aW5nLi4uXCIsIGRlbGV0ZVN1Ym1pdEhhbmRsZXIpO1xuICAgICAgICBhcGlcbiAgICAgICAgICAuZGVsZXRlQ2FyZChjYXJkRWxlbWVudC5nZXRJZCgpKVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IGNvbnNvbGUubG9nKFwiQ2FyZCBoYXMgYmVlbiBkZWxldGVkLlwiKSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYCR7ZXJyfWApKVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZUNhcmQoKTtcbiAgICAgICAgICAgIGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbmFsbHkoKHJlcykgPT4ge1xuICAgICAgICAgICAgcmVuZGVyTG9hZGluZyggZmFsc2UsIFwiWWVzXCIsIGRlbGV0ZVN1Ym1pdEhhbmRsZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBoYW5kbGVMaWtlSWNvbjogKCkgPT4ge1xuICAgICAgY29uc3QgaXNMaWtlQWN0aXZlID0gY2FyZEVsZW1lbnQuaXNMaWtlZCgpO1xuXG4gICAgICBpZiAoaXNMaWtlQWN0aXZlKSB7XG4gICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRFbGVtZW50LmdldElkKCkpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmRFbGVtZW50XG4gICAgICAgICAgICAubGlrZUNhcmQocmVzLmxpa2VzKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLmxpa2VDYXJkKGNhcmRFbGVtZW50LmdldElkKCkpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmRFbGVtZW50XG4gICAgICAgICAgICAubGlrZUNhcmQocmVzLmxpa2VzKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXNlcklkLFxuICB9KTtcbiAgY29uc3QgcmVuZGVyZWRDYXJkID0gY2FyZEVsZW1lbnQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiByZW5kZXJlZENhcmQ7XG59O1xuXG4vL3NlY3Rpb24gY2xhc3NcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbEVsZW1lbnRzLFxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkUmVuZGVyZXIoZGF0YSkpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmVsZW1lbnRzXCJcbik7XG5cbmNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIubW9kYWxfdHlwZV9jaGFuZ2UtcGljdHVyZVwiLCAoKSA9PiB7XG4gIHJlbmRlckxvYWRpbmcoIHRydWUsIFwic2F2aW5nLi4uXCIsIHN1Ym1pdEF2YXRhckJ0bik7XG4gIGFwaVxuICAgIC5hdmF0YXJJbWFnZShhdmF0YXJQb3B1cC5nZXRJbnB1dFZhbHVlcygpLmxpbmspXG4gICAgLnRoZW4oKHJlcykgPT4gdXNlckluZm9Ib2xkZXIuc2V0VXNlckluZm8ocmVzKSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yLi4uLi46ICR7ZXJyfWApKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgocmVzKSA9PiB7XG4gICAgICByZW5kZXJMb2FkaW5nKCBmYWxzZSwgXCJDaGFuZ2VcIiwgc3VibWl0QXZhdGFyQnRuKTtcbiAgICB9KTtcbn0pO1xuYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5tb2RhbF90eXBlX2FkZC1lbGVtZW50XCIsICgpID0+IHtcbiAgY29uc3QgbmV3Q2FyZCA9IGFkZFBvcHVwLmdldElucHV0VmFsdWVzKCk7XG4gIHJlbmRlckxvYWRpbmcodHJ1ZSwgXCJjcmVhdGluZy4uLlwiLCBhZGRDYXJkU3VibWl0QnRuKTtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQobmV3Q2FyZClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zdCBuZXdDYXJkSW5wdXQgPSBjYXJkUmVuZGVyZXIocmVzKTtcbiAgICAgIGVsZW1lbnRzQmxvY2sucHJlcGVuZChuZXdDYXJkSW5wdXQpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBhZGRQb3B1cC5jbG9zZShyZXMpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKHJlcykgPT4ge1xuICAgICAgcmVuZGVyTG9hZGluZyggZmFsc2UsIFwiQ3JlYXRlXCIsIGFkZENhcmRTdWJtaXRCdG4pO1xuICAgIH0pO1xufSk7XG5hZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBlZGl0IHByb2ZpbGUgbW9kYWxcbmNvbnN0IGVkaXRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLm1vZGFsX3R5cGVfcHJvZmlsZVwiLCAoKSA9PiB7XG4gIHJlbmRlckxvYWRpbmcodHJ1ZSwgXCJzYXZpbmcuLi5cIiwgZWRpdFN1Ym1pdEJ0bik7XG4gIGFwaVxuICAgIC5lZGl0UHJvZmlsZShlZGl0TW9kYWwuZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mb0hvbGRlci5zZXRVc2VySW5mbyhyZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBFcnJvci4uLi4uOiAke2Vycn1gKSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBlZGl0TW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KChyZXMpID0+IHtcbiAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsIFwic2F2ZVwiLCBlZGl0U3VibWl0QnRuKTtcbiAgICB9KTtcbn0pO1xuZWRpdE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnByb2ZpbGVFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGVkaXRNb2RhbC5zZXRJbnB1dFZhbHVlcyh1c2VySW5mb0hvbGRlci5nZXRVc2VySW5mbygpKTtcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGVkaXRNb2RhbC5vcGVuKCk7XG59KTtcblxudXNlckF2YXRhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhdmF0YXJQb3B1cC5vcGVuKCk7XG59KTtcblxuLy9zZXQgRXZlbnRMaXN0ZW5lcnNcbmFkZENhcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGFkZFBvcHVwLm9wZW4oKTtcbn0pO1xuXG5jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gZWRpdE1vZGFsLmNsb3NlKCkpO1xuY2xvc2VQb3B1cEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gaW1hZ2VNb2RhbC5jbG9zZSgpKTtcbmNsb3NlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBhZGRQb3B1cC5jbG9zZSgpKTtcbmF2YXRhckNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBhdmF0YXJQb3B1cC5jbG9zZSgpKTtcbiIsImNvbnN0IGluaXRpYWxFbGVtZW50cyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIixcclxuICAgIH0sXHJcbiAgXTtcclxuICBleHBvcnQgZGVmYXVsdCAgaW5pdGlhbEVsZW1lbnRzO1xyXG4gICJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNhcmQiLCJ1c2VySWQiLCJoYW5kbGVMaWtlSWNvbiIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9pZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfaGFuZGxlTGlrZUljb24iLCJfdXNlcklkIiwiX293bmVySWQiLCJvd25lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsInJlbW92ZSIsIm5ld0xpa2VzIiwic29tZSIsInBlcnNvbiIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiZWxlbWVudEltYWdlIiwic3JjIiwiYWx0Iiwic3R5bGUiLCJkaXNwbGF5IiwibGlrZUNhcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dCIsImVycm9yTWVzc2FnZSIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRTZWxlY3RvciIsImlucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiX2NoZWNrVmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJldmVyeSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImJ1dHRvbkVsZW1lbnQiLCJfY2hlY2tJZkZvcm1WYWxpZCIsImRpc2FibGVkIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZSIsImtleSIsImNsb3NlIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiY2FyZEltYWdlIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEhhbmRsZXIiLCJfc3VibWl0SGFuZGxlciIsIl9mb3JtIiwiaW5wdXRWYWx1ZXMiLCJ2YWx1ZSIsInZhbHVlcyIsInByZXZlbnREZWZhdWx0IiwicmVzZXQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiaXRlbSIsIlVzZXJJbmZvIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwicHJvZmlsZUltYWdlIiwiX2pvYiIsIl9pbWFnZSIsImpvYiIsInVzZXJJbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJjdXN0b21GZXRjaCIsInVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImFwaSIsIkFwaSIsImJhc2VVcmwiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2ZpbGVJbmZvIiwiY2FyZElkIiwiYXZhdGFyU3JjIiwiYXV0aG9yaXphdGlvbiIsIlBvcHVwV2l0aFN1Ym1pdCIsImZ1bmMiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwidGV4dCIsImJ1dHRvbiIsInNldEF0dHJpYnV0ZSIsImZvcm1TZWxlY3RvciIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiY2FyZERhdGEiLCJ1c2VyRGF0YSIsImNhcmRTZWN0aW9uIiwicmVuZGVySXRlbXMiLCJ1c2VySW5mb0hvbGRlciIsInNldFVzZXJJbmZvIiwicHJvZmlsZU1vZGFsIiwiZWRpdEZvcm0iLCJwcm9maWxlRWRpdEJ0biIsImNsb3NlQnV0dG9uIiwiYXZhdGFyQ2xvc2VCdG4iLCJ1c2VyQXZhdGFyQnRuIiwic3VibWl0QXZhdGFyQnRuIiwiYWRkQ2FyZEZvcm0iLCJjbG9zZUFkZEJ1dHRvbiIsImFkZENhcmRCdG4iLCJhZGRDYXJkU3VibWl0QnRuIiwiZWRpdFN1Ym1pdEJ0biIsInRlbXBsYXRlRWxlbWVudCIsImVsZW1lbnRzQmxvY2siLCJjbG9zZVBvcHVwQnRuIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJpbWFnZU1vZGFsIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjb25maXJtTW9kYWwiLCJjYXJkUmVuZGVyZXIiLCJuZXdDYXJkIiwiY2FyZEVsZW1lbnQiLCJvcGVuIiwiZGVsZXRlU3VibWl0SGFuZGxlciIsImdldElkIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwicmVtb3ZlQ2FyZCIsImZpbmFsbHkiLCJpc0xpa2VkIiwiZGVsZXRlTGlrZSIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW0iLCJhdmF0YXJQb3B1cCIsImdldElucHV0VmFsdWVzIiwiYWRkUG9wdXAiLCJuZXdDYXJkSW5wdXQiLCJlZGl0TW9kYWwiLCJzZXRJbnB1dFZhbHVlcyIsInJlc2V0VmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=